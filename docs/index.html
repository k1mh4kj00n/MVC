{this->viewDefine('header', 'migration_monitor/public/header.tpl')}{#header}
{this->viewDefine('css', 'migration_monitor/public/color.css')}{#css}

<head>
    <meta charset="UTF-8" />
    <script src = "/resource/monitor/monitor.js"></script>
    <script src = "/resource/monitor/ms.js"></script>
    <script src = "/resource/develop/develop.js"></script>
    <script src = "/resource/develop/test.js"></script>
</head>
<style>
    footer {
        background: darkgray;
        height: 5px;
    }
    main{
        background: #d9e0e7;
    }
    body{
        background-color: #707478;

    }
    .navbar{
        background-color: #2d353c;
        height: 1300px;
        border-radius: 1px;
    }
    .nav li a{
        background-color:red;
    }
    .nav .active a{
        background-color:orange ;
    }
    .table-dark td{
        border: 1px solid #198753;
    }
    .table-dark th{
        border: 1px solid #198753;
        font-weight: bold;
    }
    .state-block{
        width: 24%;
        height: 130px;
        border-radius: 2px;
        padding-left: 10px;
        padding-right: 10px;
        margin-top: 5px !important;
    }
    .search-block{
        margin-top: 9px !important;
    }
    .status-block{
        margin-top: 9px !important;
        padding: 0;
    }

    .progress{
        height: 3px;
    }
    .progress-bar{
        font-size: 0.5em;
    }
    .title{
        font-size: 24px;
        margin-bottom: 5px;
        font-weight: 600;
        letter-spacing: 1px;
    }
    .migration-number{
        font-size: 8px;
        margin-bottom: 2px;
        font-weight: 700;
        letter-spacing: 0px;
    }
    .contentbox-title{
        font-size: 25px;
        line-height: 22px;
        color: #fff;
        font-weight: 500 ;
        margin: 0px 10px 0px;
    }
    .content-title{
        font-size: 30px;
        margin-bottom: 5px;
        margin-left: 0px;
        font-weight: 420;
        letter-spacing: 0px;

    }
    small{
        font-size: 30%;
        font-weight: normal;
        color: #6a7786;
    }
    .nn{
        display: flex;
        flex-wrap: wrap;
        padding-left: 8px;
        margin-bottom: 0;
        list-style: none;
    }
    .at {
        padding: 7px 20px;
        line-height: 20px;
        color: #a8acb1;
        display: block;
        text-decoration: none;
    }
    h3 {
        margin-top: 10px;
    }
    .box-title{
        font-size: 20px;
        line-height: 22px;
        font-weight: 500 ;
        margin-top: 0px;
        padding-top: 10px;
        padding-left: 10px;
        color: #fff;
        opacity: 0.9;
    }

    header {
        background: #fff;
        height: 50px;
        position: fixed;
        top: 0;
        width: 100%;
    }
    .state-content{
        font-size: 18px;
        line-height: 22px;
        font-weight: 500 ;
        margin-top: 0px;
        padding-top: 0px;
        padding-left: 0px;
        padding-bottom: 5px;
    }
    .state-title{

    }

    .table-title > th{
        font-size: 20px;
        line-height: 22px;
        font-weight: 500 ;
        margin-top: 0px;
        padding-top: 10px;
        padding-left: 10px;
        color: #fff;
        opacity: 1;

    }
    .table-content > td{
        font-size: 20px;
        line-height: 22px;
        font-weight: 500 ;
        margin-top: 0px;
        padding-top: 10px;
        padding-left: 10px;
        color: #fff;
        opacity: 1;

    }

    li{
        color: #92989b;
        font-size: 13px;

    }
    .nav-title a{
        cursor:pointer;
    }
    .nav-title > ul{
        display: none;
    }
    .nav-title {
        margin-bottom: 5px;
    }
    .coll > input{
        margin:5px;
    }
    .circle_red{
        width:30px;
        height:30px;
        border-radius: 50px;
        margin:0 auto;
    }

    .circle_blue{
        width:30px;
        height:30px;
        border-radius: 50px;
        margin:0 auto;
    }
    .state-title > h3{
        display: inline-block;
        color: #fff;
        font-size: 20px;
        line-height: 22px;
        font-weight: 500 ;
        margin-top: 10px;
        padding-top: 0px;
        padding-left: 0px;
        padding-bottom: 0px;
    }
    .percent_success{
        margin-left: 1%;
        color: #cc4946 !important;
        font-weight: 800;
    }
    .percent_ing{
        margin-left: 1%;
        color: #ffffff !important;
        font-weight: 800;
    }

</style>


<body>
<main>
    <!-- main grid start( bootstrap 12 grid ) -->
    <div class="conatiner">
                 <!-- content start -->
            <div class="col" style=" padding-left: 30px;">
                <div class="content-title">BID MONITORING <small> bid_score & core_bid Migration Monitor </small> <h2 style="margin-top:3px;"> 마지막 갱신 시간 : {date} </h2>  </div>
                <!-- content migration state start -->
                <article class="row">
                    <div class="col-3 m-3 state-block bg-red-darker">
                        <div class="state-title">
                        <h3> All Bid Data </h3>
                            {?ave == 100}
                            <h3 class="percent_success"> {ave}% </h3>
                            {:}
                            <h3 class="percent_ing"> {ave}% </h3>
                            {/}
                        </div>
                        <div class="state-content text-white">core_bid {cb['cb_count']} </div>
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" style="width: {ave}%;"  aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="state-content text-white">bid_score {bs['bs_count']} </div>
                        <div style="color: #fff; opacity: 0.8;"> 현재 진행 사항 {ave}% </div>
                    </div>

                    <div class="col-3 m-3 state-block bg-orange">
                        <div class="state-title">
                            <h3>All Successful Bid Data</h3>
                            {?nave == 100}
                            <h3 class="percent_success"> {nave}%</h3>
                            {:}
                            <h3 class="percent_ing"> {nave}%</h3>
                            {/}
                        </div>

                        <div class="state-content text-white">core_bid {ncb['ncb_count']} </div>
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" style="width: {nave}%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="state-content text-white">bid_score {nbs['nbs_count']} </div>
                        <div style="color: #fff; opacity: 0.8;"> 현재 진행 사항 {nave}% </div>
                    </div>

                    <div class="col-3 m-3 state-block bg-red-darker">
                        <div class="state-title">
                            <h3>Today Bid Data</h3>
                            {?dave == 100}
                            <h3 class="percent_success"> {dave}% </h3>
                            {:}
                            <h3 class="percent_ing"> {dave}%</h3>
                            {/}
                        </div>
                        <div class="state-content text-white cbtoday">core_bid {dcb['today']} </div>
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" style="width: {dave}%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="state-content text-white bstoday">bid_score {dbs['today']} </div>
                        <div style="color: #fff; opacity: 0.8;"> 현재 진행 사항 {dave}% </div>
                    </div>

                    <div class="col-3 m-3 state-block bg-orange" >
                        <div class="state-title">
                            <h3>Today Successful Bid Data</h3>
                            {?ndave == 100}
                            <h3 class="percent_success"> {ndave}%</h3>
                            {:}
                            <h3 class="percent_ing" "> {ndave}%</h3>
                            {/}
                        </div>

                        <div class="state-content text-white cbntody">core_bid {ndcb['today']} </div>
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" style="width: {ndave}%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="state-content text-white bsntody">bid_score {ndbs['today']} </div>
                        <div style="color: #fff; opacity: 0.8;"> 현재 진행 사항 {ndave}% </div>
                    </div>

                </article>
                <!-- content migration state end -->


                <!-- status -->
                <article class="row">
                    <div class="col-1 m-3 status-block" style="background-color: #2d353c; height: 1600px; width: 98.6%; border-radius: 2px;">
                        <div class="bg-black-darker" style="height: 40px; width: 100%; border-radius: 3px;">  <h3 class="box-title"> Process Overview </h3></div>
                        <div style="padding-top: 10px !important; padding: 30px;">

                            <table class="table" style="text-align: center">
                                <thead>
                                <tr class="table-title">
                                    <th> 상태 </th>
                                    <th> 프로세스명 </th>
                                    <th> 내용 및 진행상태 </th>
                                    <th> DB </th>
                                    <th> 최초 구동시간 </th>
                                    <th> 현재 구동시간 </th>
                                    <th> 담당자 </th>
                                </tr>
                                </thead>
                                <tbody>
                                {@overview}
                                <tr class="table-content">

                                    {?.monitor_state == 1} <td> <div class="circle_blue bg-blue"></div> </td>>{:}<td> <div class="circle_red bg-red"></div> </td>{/}
                                    <td> {.monitor_process}</td>
                                    <td> {.monitor_status}</td>
                                    <td> {.monitor_db}</td>
                                    <td> {.monitor_startDate}</td>
                                    <td> a?f</td>
                                    <td> {.monitor_manager}</td>
                                </tr>
                                {/}

                                </tbody>
                            </table>

                        </div>

                    </div>
                </article>

            </div>
            <!-- content end -->

        </div>
        <!-- main grid end-->

    </div>
</main>
</body>
<script>

    $(document).ready(function () {
        //data_reload(3000);
        option_cal();
        scrolls();
    });
</script>